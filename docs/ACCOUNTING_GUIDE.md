# 회계 시스템 사용 가이드

## 개요
회계 페이지를 통해 총무가 다음 항목들을 관리할 수 있습니다:
- 가입비 ($10)
- 월회비 / 연회비
- 매치별 구장비
- 결제 내역 추적

## 데이터베이스 설정

### 1. Supabase에 테이블 생성
`scripts/create-accounting-tables.sql` 파일을 Supabase SQL Editor에서 실행하세요.

생성되는 테이블:
- `payments`: 모든 결제 내역
- `dues_settings`: 회비 설정 (가입비, 월회비, 연회비 금액)
- `match_payments`: 매치별 구장비 납부 현황

### 2. 기능 활성화
설정 메뉴에서 "회계" 기능을 활성화하세요.

## 기능 설명

### 개요 탭 (재정 대시보드)
- **핵심 지표**: 총 수입, 총 상환, 순수익, 구장비 미납 현황
- **수입 구성 차트**: 가입비, 월회비, 연회비, 구장비의 비율을 파이 차트로 표시
- **월별 수입 트렌드**: 최근 6개월간의 수입 추세를 바 차트로 표시
- **구장비 미납자 목록**: 어느 선수가 어느 매치 구장비를 납입하지 않았는지 한눈에 확인
- **상환(Reimbursement) 내역**: 선수들에게 지급한 상환 내역 (예: 구장비 대신 결제, 물품 구매 등)
- **선수별 납부 현황**: 각 선수의 총 납부 금액 및 상세 내역
- **회비 리뉴얼 일정**: 월회비/연회비 갱신 예정일 확인

### 결제 내역 탭
- 모든 결제 기록 조회 및 관리
- 새 결제 추가
- 결제 삭제
- 날짜 필터링

### 회비 설정 탭
- 가입비 설정 ($10 기본)
- 월회비 설정
- 연회비 설정
- 각 항목별 금액 및 설명 수정

### 매치별 구장비 탭
- 예정된 매치의 구장비 납부 현황 확인
- 각 참가자의 납부 여부 체크
- 납부 확인 버튼으로 간편 처리

## 워크플로우

### 신규 회원 가입 시
1. 회계 > 결제 내역 > "결제 추가"
2. 선수 선택
3. 유형: "가입비"
4. 금액: $10.00
5. 결제 방법: Venmo (또는 다른 방법)
6. 추가 버튼 클릭

### 매치 구장비 관리
1. 매치 플래너에서 예정 매치 생성
2. 회계 > 매치별 구장비 탭 이동
3. 해당 매치 확인
4. 각 참가자가 Venmo로 납부하면 "확인" 버튼 클릭
5. 자동으로 payments 테이블에 기록됨

### 월회비/연회비 징수
1. 회계 > 결제 내역 > "결제 추가"
2. 선수 선택
3. 유형: "월회비" 또는 "연회비"
4. 금액 입력
5. 추가 버튼 클릭

### 상환 기록 (Reimbursement)
선수가 팀을 위해 지출한 비용을 돌려줄 때:
1. 회계 > 결제 내역 > "결제 추가"
2. 선수 선택
3. 유형: "상환"
4. 금액 입력 (양수로 입력)
5. 메모: 상환 사유 기입 (예: "구장비 대신 결제", "공 구매")
6. 추가 버튼 클릭

※ 상환은 비용이므로 총 수입에서 자동으로 차감됩니다.

## 규칙 (앱 설명에 명시)

1. **구장비 납부 기한**: 매치 전날 자정까지
2. **가입비**: 모든 정회원은 가입 시 $10 납부
3. **납부 방법**: Venmo 계정에 입금 (계정 정보는 공지 참조)
4. **미납 시**: 총무가 개별 연락

## 기술 스택
- **프론트엔드**: React + Lucide Icons
- **백엔드**: Supabase (PostgreSQL)
- **실시간 동기화**: Supabase Realtime (향후 추가 가능)

## 향후 개선 사항
- [ ] Venmo API 연동 자동 확인
- [ ] 이메일/SMS 납부 알림
- [ ] 엑셀 내보내기
- [ ] 연도별 리포트
- [ ] 미납자 자동 리마인더

## 총무를 위한 팁
1. **개요 탭을 자주 확인**: 재정 현황을 한눈에 파악
2. **구장비 미납자 관리**: 매치 후 바로 확인하여 미납자에게 연락
3. **상환 기록 철저히**: 선수가 대신 지불한 비용은 바로 기록하여 투명성 유지
4. **월별 트렌드 분석**: 수입이 줄어드는 달이 있는지 확인하여 회원 활동 독려
5. **리뉴얼 일정 확인**: 회비 갱신 시기가 임박한 선수에게 미리 안내
