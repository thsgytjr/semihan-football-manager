# 회계 시스템 사용 가이드

## 개요
회계 페이지를 통해 총무가 다음 항목들을 관리할 수 있습니다:
- 가입비 ($10)
- 월회비 / 연회비
- 매치별 구장비
- 결제 내역 추적

## 데이터베이스 설정

### 1. Supabase에 테이블 생성
`scripts/create-accounting-tables.sql` 파일을 Supabase SQL Editor에서 실행하세요.

생성되는 테이블:
- `payments`: 모든 결제 내역
- `dues_settings`: 회비 설정 (가입비, 월회비, 연회비 금액)
- `match_payments`: 매치별 구장비 납부 현황

### 2. 기능 활성화
설정 메뉴에서 "회계" 기능을 활성화하세요.

## 기능 설명

### 개요 탭
- **총 수입**: 전체 수익 요약
- **통계 카드**: 가입비, 회비, 구장비별 집계
- **선수별 납부 현황**: 각 선수의 총 납부 금액 및 상세 내역

### 결제 내역 탭
- 모든 결제 기록 조회 및 관리
- 새 결제 추가
- 결제 삭제
- 날짜 필터링

### 회비 설정 탭
- 가입비 설정 ($10 기본)
- 월회비 설정
- 연회비 설정
- 각 항목별 금액 및 설명 수정

### 매치별 구장비 탭
- 예정된 매치의 구장비 납부 현황 확인
- 각 참가자의 납부 여부 체크
- 납부 확인 버튼으로 간편 처리

## 워크플로우

### 신규 회원 가입 시
1. 회계 > 결제 내역 > "결제 추가"
2. 선수 선택
3. 유형: "가입비"
4. 금액: $10.00
5. 결제 방법: Venmo (또는 다른 방법)
6. 추가 버튼 클릭

### 매치 구장비 관리
1. 매치 플래너에서 예정 매치 생성
2. 회계 > 매치별 구장비 탭 이동
3. 해당 매치 확인
4. 각 참가자가 Venmo로 납부하면 "확인" 버튼 클릭
5. 자동으로 payments 테이블에 기록됨

### 월회비/연회비 징수
1. 회계 > 결제 내역 > "결제 추가"
2. 선수 선택
3. 유형: "월회비" 또는 "연회비"
4. 금액 입력
5. 추가 버튼 클릭

## 규칙 (앱 설명에 명시)

1. **구장비 납부 기한**: 매치 전날 자정까지
2. **가입비**: 모든 정회원은 가입 시 $10 납부
3. **납부 방법**: Venmo 계정에 입금 (계정 정보는 공지 참조)
4. **미납 시**: 총무가 개별 연락

## 기술 스택
- **프론트엔드**: React + Lucide Icons
- **백엔드**: Supabase (PostgreSQL)
- **실시간 동기화**: Supabase Realtime (향후 추가 가능)

## 향후 개선 사항
- [ ] Venmo API 연동 자동 확인
- [ ] 이메일/SMS 납부 알림
- [ ] 엑셀 내보내기
- [ ] 월별/연도별 리포트
- [ ] 미납자 자동 리스트업
